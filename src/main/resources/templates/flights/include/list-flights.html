<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>

    <div th:fragment="flights" class="ui segments" id="flights-list">
      <div th:each="flight : *{flights.items}" class="ui segment">
        <div class="ui dense grid">
          <div class="eight wide mobile four wide tablet four wide computer column">
            <span th:text="${#temporals.format(flight.departureContact.dateLocal, 'dd.MM.yyyy')}"></span>
            <span th:text="${#temporals.format(flight.departureContact.timeLocal, 'HH:mm')}"></span>
            <br />
            <strong><span th:text="${flight.departureContact.airport.code}">XXX</span></strong>
            <i class="flag" th:classappend="${#strings.toLowerCase(flight.departureContact.airport.countryCode)}"></i>
            <br />
            <small><span class="smalltext" th:text="${flight.departureContact.airport.name}">Airport name</span></small>
          </div>
          <div class="eight wide mobile four wide tablet four wide computer column">
            <span th:text="${#temporals.format(flight.arrivalContact.dateLocal, 'dd.MM.yyyy')}"></span>
            <span th:text="${#temporals.format(flight.arrivalContact.timeLocal, 'HH:mm')}"></span>
            <span th:if="${flight.arrivalContact.dateOffset}">
              (<span th:text="${flight.arrivalContact.dateOffset}">+0</span>)
            </span>
            <br />
            <strong><span th:text="${flight.arrivalContact.airport.code}">XXX</span></strong>
            <i class="flag" th:classappend="${#strings.toLowerCase(flight.arrivalContact.airport.countryCode)}"></i>
            <br />
            <small><span class="smalltext" th:text="${flight.arrivalContact.airport.name}">Airport name</span></small>
          </div>
          <div class="eight wide mobile four wide tablet three wide computer column">
            <span th:text="${flight.airline.name}"></span>
            <br />
            <strong><span th:text="${flight.airline.code}"></span> <span th:text="${flight.flightNumber}"></span></strong>
            <br />
            <span th:text="${flight.aircraft.type}"></span>
            <span th:if="${not #strings.isEmpty(flight.aircraft.registration)}">
              <br /> <span th:text="${flight.aircraft.registration}"></span>
            </span>
            <span th:if="${not #strings.isEmpty(flight.aircraft.name)}">
              <br /> <span th:text="${flight.aircraft.name}"></span>
            </span>
          </div>
          <div class="eight wide mobile two wide tablet two wide computer column">
            <span th:if="${flight.cabinClass != null}" th:text="${#messages.msg('cabinClass.' + flight.cabinClass)}"></span>
            <br />
            <strong><span th:text="${flight.seatNumber}"></span></strong>
            <br />
            <span th:if="${flight.seatType != null}" th:text="${#messages.msg('seatType.' + flight.seatType)}"></span>
            <br />
            <span th:if="${flight.flightReason != null}" th:text="${#messages.msg('flightReason.' + flight.flightReason)}"></span>
          </div>
          <div class="eight wide mobile two wide tablet one wide computer column">
            <div class="mobile only">
              <span style="display: inline-block; min-width: 60px;"><span th:text="#{duration}"></span>:</span>
              <span style="display: inline-block; min-width: 50px; text-align: right;" th:text="${flight.flightDurationString}"></span> h
              <br />
              <span style="display: inline-block; min-width: 60px;"><span th:text="#{distance}"></span>:</span>
              <span style="display: inline-block; min-width: 50px; text-align: right;" th:text="${#numbers.formatDecimal(flight.flightDistance, 3, 'POINT', 0, 'COMMA')}"></span> km
            </div>
            <span class="mobile hidden" style="float: right; text-align: right;">
              <span th:text="${flight.flightDurationString}"></span> h
              <br />
              <span th:text="${#numbers.formatDecimal(flight.flightDistance, 3, 'POINT', 0, 'COMMA')}"></span> km
            </span>
          </div>
          <div class="eight wide mobile sixteen wide table two wide computer column">
            <span class="mobile hidden tablet hidden" style="float: right;">
              <a class="fluid ui primary mini button" th:href="@{/flights/edit/{id}(id=${flight.entityId})}">
                <i class="edit icon"></i>
                <span th:text="#{edit}"></span>
              </a>
              <br />
              <a class="fluid ui negative mini button" th:href="@{/flights/delete/{id}(id=${flight.entityId})}">
                <i class="trash alternate icon"></i>
                <span th:text="#{delete}"></span>
              </a>
            </span>
            <span class="mobile only tablet only">
              <a class="ui primary mini button" th:href="@{/flights/edit/{id}(id=${flight.entityId})}">
                <i class="edit icon"></i>
                <span th:text="#{edit}"></span>
              </a>
              <a class="ui negative mini button" th:href="@{/flights/delete/{id}(id=${flight.entityId})}">
                <i class="trash alternate icon"></i>
                <span th:text="#{delete}"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>

    <div th:fragment="pagination" th:if="${flights.pagination.totalPages > 1}" class="ui center aligned pagination menu">
      <div class="disabled item" th:text="#{page}">Page</div>
      <div th:remove="tag" th:each="paginationLink: ${flights.pagination.toLinks(2)}">
        <div class="active item" th:if="${flights.pagination.pageNumber == paginationLink.pageNumber}">
          <span th:text="${paginationLink.pageNumber + 1}"></span>
        </div>
        <div class="disabled item" th:if="${paginationLink.spacer}" th:text="...">...</div>
        <a class="item" th:if="${flights.pagination.pageNumber != paginationLink.pageNumber && !paginationLink.spacer}" th:href="@{/flights/list/{pageNumber}(pageNumber=${paginationLink.pageNumber})}">
          <span th:text="${paginationLink.pageNumber + 1}"></span>
        </a>
      </div>
    </div>

  </body>
</html>
